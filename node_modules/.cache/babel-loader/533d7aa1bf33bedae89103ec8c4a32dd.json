{"ast":null,"code":"import { buyedToknChange, getUserId } from '../../api';\nimport { buyNFT } from '../../contracts/MarketPlace.json';\nlet intervalId = null;\nlet count = 0;\nexport const buyToknTransfer = async (_price, _itemId, setFlag, set_w_Flag, FROM_ADDR, PRIVATE_KEY) => {\n  const value = parseInt(_price * 100000) + '0000000000000';\n  buyNFT(FROM_ADDR, PRIVATE_KEY, _itemId, value).then(result => {\n    if (result === true) {\n      intervalId = setInterval(() => {\n        if (count > 9) {\n          stopTimer();\n          alert('ìž…ë ¥í•˜ì‹  Private Keyê°€ ë‹¤ë¥¸ ì£¼ì†Œì˜ í‚¤ ê°™ìŠµë‹ˆë‹¤\\n í‚¤ë¥¼ í™•ì¸ í›„ ë‹¤ì‹œ ì‹œë„í•˜ì—¬ ì£¼ì‹­ì‹œì˜¤.');\n        } else ++count;\n      }, 1000);\n    } else {\n      set_w_Flag(false);\n      alert(`âš ï¸Err: ${result}`);\n    }\n  });\n};\nexport const updateToknIdx = async (_buyerAddr, _toknId) => {\n  userId = await getUserId(_buyerAddr);\n  const record = {\n    buyerId: userId,\n    tokenId: _toknId\n  };\n  buyedToknChange(record).then(result => {\n    if (result) {\n      stopTimer();\n      if (!alert('ðŸŽ‰Successfully purchased')) window.location.reload();\n    }\n  });\n};\n\nconst stopTimer = () => {\n  clearInterval(intervalId);\n  intervalId = null;\n};","map":{"version":3,"names":["buyedToknChange","getUserId","buyNFT","intervalId","count","buyToknTransfer","_price","_itemId","setFlag","set_w_Flag","FROM_ADDR","PRIVATE_KEY","value","parseInt","then","result","setInterval","stopTimer","alert","updateToknIdx","_buyerAddr","_toknId","userId","record","buyerId","tokenId","window","location","reload","clearInterval"],"sources":["/home/giparang/threadweb/fortune/client/src/components/detailPages/toknTransfer.js"],"sourcesContent":["import { buyedToknChange, getUserId } from '../../api';\nimport { buyNFT } from '../../contracts/MarketPlace.json'\n\nlet intervalId = null;\nlet count = 0;\n\nexport const buyToknTransfer = async(_price, _itemId, setFlag, set_w_Flag, FROM_ADDR, PRIVATE_KEY) => {\n  const value = parseInt(_price*100000) + '0000000000000';\n  buyNFT(FROM_ADDR, PRIVATE_KEY, _itemId, value).then(result => {\n    if(result === true){\n      intervalId = setInterval(() => {\n        if(count > 9){\n          stopTimer();\n          alert('ìž…ë ¥í•˜ì‹  Private Keyê°€ ë‹¤ë¥¸ ì£¼ì†Œì˜ í‚¤ ê°™ìŠµë‹ˆë‹¤\\n í‚¤ë¥¼ í™•ì¸ í›„ ë‹¤ì‹œ ì‹œë„í•˜ì—¬ ì£¼ì‹­ì‹œì˜¤.');\n        }\n        else\n          ++count;\n      }, 1000);\n    }\n\t\telse{\n\t\t\tset_w_Flag(false);\n\t\t\talert(`âš ï¸Err: ${result}`);\n\t\t}\n  })\n}\nexport const updateToknIdx = async(_buyerAddr, _toknId) => {\n\tuserId = await getUserId(_buyerAddr);\n\n\tconst record = {\n\t\tbuyerId: userId,\n\t\ttokenId: _toknId\n\t}\n\tbuyedToknChange(record).then(result => {\n\t\tif(result){\n\t\t\tstopTimer();\n      if(!alert('ðŸŽ‰Successfully purchased'))\n        window.location.reload();\n\t\t}\n\t})\n}\nconst stopTimer = () => {\n  clearInterval(intervalId);\n  intervalId=null;\n}"],"mappings":"AAAA,SAASA,eAAT,EAA0BC,SAA1B,QAA2C,WAA3C;AACA,SAASC,MAAT,QAAuB,kCAAvB;AAEA,IAAIC,UAAU,GAAG,IAAjB;AACA,IAAIC,KAAK,GAAG,CAAZ;AAEA,OAAO,MAAMC,eAAe,GAAG,OAAMC,MAAN,EAAcC,OAAd,EAAuBC,OAAvB,EAAgCC,UAAhC,EAA4CC,SAA5C,EAAuDC,WAAvD,KAAuE;EACpG,MAAMC,KAAK,GAAGC,QAAQ,CAACP,MAAM,GAAC,MAAR,CAAR,GAA0B,eAAxC;EACAJ,MAAM,CAACQ,SAAD,EAAYC,WAAZ,EAAyBJ,OAAzB,EAAkCK,KAAlC,CAAN,CAA+CE,IAA/C,CAAoDC,MAAM,IAAI;IAC5D,IAAGA,MAAM,KAAK,IAAd,EAAmB;MACjBZ,UAAU,GAAGa,WAAW,CAAC,MAAM;QAC7B,IAAGZ,KAAK,GAAG,CAAX,EAAa;UACXa,SAAS;UACTC,KAAK,CAAC,yDAAD,CAAL;QACD,CAHD,MAKE,EAAEd,KAAF;MACH,CAPuB,EAOrB,IAPqB,CAAxB;IAQD,CATD,MAUE;MACHK,UAAU,CAAC,KAAD,CAAV;MACAS,KAAK,CAAE,UAASH,MAAO,EAAlB,CAAL;IACA;EACA,CAfD;AAgBD,CAlBM;AAmBP,OAAO,MAAMI,aAAa,GAAG,OAAMC,UAAN,EAAkBC,OAAlB,KAA8B;EAC1DC,MAAM,GAAG,MAAMrB,SAAS,CAACmB,UAAD,CAAxB;EAEA,MAAMG,MAAM,GAAG;IACdC,OAAO,EAAEF,MADK;IAEdG,OAAO,EAAEJ;EAFK,CAAf;EAIArB,eAAe,CAACuB,MAAD,CAAf,CAAwBT,IAAxB,CAA6BC,MAAM,IAAI;IACtC,IAAGA,MAAH,EAAU;MACTE,SAAS;MACN,IAAG,CAACC,KAAK,CAAC,0BAAD,CAAT,EACEQ,MAAM,CAACC,QAAP,CAAgBC,MAAhB;IACL;EACD,CAND;AAOA,CAdM;;AAeP,MAAMX,SAAS,GAAG,MAAM;EACtBY,aAAa,CAAC1B,UAAD,CAAb;EACAA,UAAU,GAAC,IAAX;AACD,CAHD"},"metadata":{},"sourceType":"module"}