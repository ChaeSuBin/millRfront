{"ast":null,"code":"import _regeneratorRuntime from\"/home/giparang/threadweb/fortune/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/giparang/threadweb/fortune/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/giparang/threadweb/fortune/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{Link}from'react-router-dom';import{getOpenedItem,getOpenedTokn}from\"../api\";import{ListItemsCpnt}from\"../components/itemCpnt\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var HomePage=function HomePage(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),opendList=_useState2[0],setOpend=_useState2[1];useEffect(function(){getOpenedItems();//window.location.reload();\n},[]);var getOpenedItems=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var itemInfo;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getOpenedItem();case 2:itemInfo=_context.sent;console.log(itemInfo);setOpend(itemInfo);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getOpenedItems(){return _ref.apply(this,arguments);};}();var getOpenedTokns=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var toknList,itemLen,itemInfo;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:toknList=[];itemLen=0;_context2.next=4;return getOpenedTokn();case 4:itemInfo=_context2.sent;console.log(itemInfo);while(itemLen<itemInfo.toknIdList.length){toknList[itemLen]={title:itemInfo.items[itemLen].title,description:itemInfo.items[itemLen].description,toknId:itemInfo.toknIdList[itemLen]};++itemLen;}setOpend(toknList);case 8:case\"end\":return _context2.stop();}}},_callee2);}));return function getOpenedTokns(){return _ref2.apply(this,arguments);};}();var refreshPage=function refreshPage(){window.location.assign('./filetohash');};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{style:{textAlign:\"center\"},children:/*#__PURE__*/_jsx(Link,{to:\"/filetohash\",style:{textDecoration:'none'},children:/*#__PURE__*/_jsx(\"button\",{onClick:refreshPage,style:{fontSize:\"large\"},children:\"\\uC544\\uC774\\uD15C \\uC5C5\\uB85C\\uB4DC\"})})}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",onChange:getOpenedItems,name:\"comm\",defaultChecked:true}),\"\\uCD08\\uAE30\\uD310\\uB9E4 \\uC544\\uC774\\uD15C \\uBAA9\\uB85D \"]}),/*#__PURE__*/_jsxs(\"label\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",onChange:getOpenedTokns,name:\"comm\"}),\"2\\uCC28\\uAC70\\uB798 NFT \\uBAA9\\uB85D \"]}),/*#__PURE__*/_jsx(\"br\",{}),opendList.map(function(searchItems,index){return/*#__PURE__*/_jsx(ListItemsCpnt,{title:searchItems.title,desc:searchItems.description,toknId:searchItems.toknId,itemId:searchItems.id},index);})]});};","map":{"version":3,"names":["React","useState","useEffect","Link","getOpenedItem","getOpenedTokn","ListItemsCpnt","HomePage","opendList","setOpend","getOpenedItems","itemInfo","console","log","getOpenedTokns","toknList","itemLen","toknIdList","length","title","items","description","toknId","refreshPage","window","location","assign","textAlign","textDecoration","fontSize","map","searchItems","index","id"],"sources":["/home/giparang/threadweb/fortune/client/src/pages/rootPage.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from 'react-router-dom';\nimport { getOpenedItem, getOpenedTokn } from \"../api\";\nimport { ListItemsCpnt } from \"../components/itemCpnt\";\n\nexport const HomePage = () => {\n  const [opendList, setOpend] = useState([]);\n\n  useEffect(() => {\n    getOpenedItems();\n    //window.location.reload();\n  },[]);\n  \n  const getOpenedItems = async() => {\n    const itemInfo = await getOpenedItem();\n    console.log(itemInfo);\n    setOpend(itemInfo);\n  }\n  const getOpenedTokns = async() => {\n    let toknList = [];\n    let itemLen = 0;\n    const itemInfo = await getOpenedTokn();\n    console.log(itemInfo);\n    while(itemLen < itemInfo.toknIdList.length){\n      toknList[itemLen] = {\n        title: itemInfo.items[itemLen].title,\n        description: itemInfo.items[itemLen].description, \n        toknId: itemInfo.toknIdList[itemLen]};\n      ++itemLen;\n    }\n    setOpend(toknList);\n  }\n  const refreshPage = () => {\n    window.location.assign('./filetohash');\n  }\n  return(\n    <>\n      <p style={{textAlign: \"center\"}}>\n      <Link to=\"/filetohash\" style={{ textDecoration: 'none' }}>\n        <button onClick={refreshPage} style={{fontSize:\"large\"}}>아이템 업로드</button>\n      </Link></p>\n      <label><input type=\"radio\" onChange={getOpenedItems} name='comm' defaultChecked/>\n        초기판매 아이템 목록 </label>\n      <label><input type=\"radio\" onChange={getOpenedTokns} name='comm'/>\n        2차거래 NFT 목록 </label><br/>\n      {opendList.map((searchItems, index) => (\n        <ListItemsCpnt\n          key={index}\n          title={searchItems.title}\n          desc={searchItems.description}\n          toknId = {searchItems.toknId}\n          itemId = {searchItems.id}\n        />\n      ))}\n    </>\n  )\n}"],"mappings":"uYAAA,MAAOA,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CACvC,OAASC,aAAa,CAAEC,aAAa,KAAQ,QAAQ,CACrD,OAASC,aAAa,KAAQ,wBAAwB,CAAC,6IAEvD,MAAO,IAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CAC5B,cAA8BN,QAAQ,CAAC,EAAE,CAAC,wCAAnCO,SAAS,eAAEC,QAAQ,eAE1BP,SAAS,CAAC,UAAM,CACdQ,cAAc,EAAE,CAChB;AACF,CAAC,CAAC,EAAE,CAAC,CAEL,GAAMA,eAAc,4FAAG,wKACEN,cAAa,EAAE,QAAhCO,QAAQ,eACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrBF,QAAQ,CAACE,QAAQ,CAAC,CAAC,sDACpB,kBAJKD,eAAc,0CAInB,CACD,GAAMI,eAAc,6FAAG,wKACjBC,QAAQ,CAAG,EAAE,CACbC,OAAO,CAAG,CAAC,wBACQX,cAAa,EAAE,QAAhCM,QAAQ,gBACdC,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrB,MAAMK,OAAO,CAAGL,QAAQ,CAACM,UAAU,CAACC,MAAM,CAAC,CACzCH,QAAQ,CAACC,OAAO,CAAC,CAAG,CAClBG,KAAK,CAAER,QAAQ,CAACS,KAAK,CAACJ,OAAO,CAAC,CAACG,KAAK,CACpCE,WAAW,CAAEV,QAAQ,CAACS,KAAK,CAACJ,OAAO,CAAC,CAACK,WAAW,CAChDC,MAAM,CAAEX,QAAQ,CAACM,UAAU,CAACD,OAAO,CAAC,CAAC,CACvC,EAAEA,OAAO,CACX,CACAP,QAAQ,CAACM,QAAQ,CAAC,CAAC,wDACpB,kBAbKD,eAAc,2CAanB,CACD,GAAMS,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxBC,MAAM,CAACC,QAAQ,CAACC,MAAM,CAAC,cAAc,CAAC,CACxC,CAAC,CACD,mBACE,wCACE,UAAG,KAAK,CAAE,CAACC,SAAS,CAAE,QAAQ,CAAE,uBAChC,KAAC,IAAI,EAAC,EAAE,CAAC,aAAa,CAAC,KAAK,CAAE,CAAEC,cAAc,CAAE,MAAO,CAAE,uBACvD,eAAQ,OAAO,CAAEL,WAAY,CAAC,KAAK,CAAE,CAACM,QAAQ,CAAC,OAAO,CAAE,mDAAiB,EACpE,EAAI,cACX,sCAAO,cAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAEnB,cAAe,CAAC,IAAI,CAAC,MAAM,CAAC,cAAc,OAAE,+DAC3D,cACtB,sCAAO,cAAO,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAEI,cAAe,CAAC,IAAI,CAAC,MAAM,EAAE,2CAC5C,2BAAK,CAC1BN,SAAS,CAACsB,GAAG,CAAC,SAACC,WAAW,CAAEC,KAAK,qBAChC,KAAC,aAAa,EAEZ,KAAK,CAAED,WAAW,CAACZ,KAAM,CACzB,IAAI,CAAEY,WAAW,CAACV,WAAY,CAC9B,MAAM,CAAIU,WAAW,CAACT,MAAO,CAC7B,MAAM,CAAIS,WAAW,CAACE,EAAG,EAJpBD,KAAK,CAKV,EACH,CAAC,GACD,CAEP,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}