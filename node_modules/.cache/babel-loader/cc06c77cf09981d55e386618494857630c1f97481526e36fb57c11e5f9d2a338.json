{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import{getFileBolb}from\"../../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var FileListViewer=function FileListViewer(_ref){var fileName=_ref.fileName,toknUri=_ref.toknUri,permission=_ref.permission;var FilePreview=function FilePreview(){var file=fileName.split('.');if(file[1]==='png'||file[1]==='jpg'||file[1]==='jpeg'||file[1]==='JPG'||file[1]==='JPEG'||file[1]==='bmp'){var imgStock=\"https://mintservice.asuscomm.com:8139/getimagestock/\".concat(toknUri,\"/\").concat(fileName);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"img\",{style:{width:'700px'},src:imgStock})});}else if(file[1]==='flac'||file[1]==='wav'||file[1]==='mp3'||file[1]==='MP3'){var auxStock=\"https://mintservice.asuscomm.com:8139/getaudiostock/\".concat(toknUri,\"/\").concat(fileName);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"audio\",{controls:true,src:auxStock})});}};var downloadFileData=function downloadFileData(){if(permission){getFileBolb(toknUri,fileName).then(function(response){var url=window.URL.createObjectURL(response);var a=document.createElement('a');a.href=url;a.download=fileName;a.click();});}else{alert('Attempt to download without permission');}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"h5\",{children:[fileName,/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(FilePreview,{}),/*#__PURE__*/_jsx(\"button\",{onClick:downloadFileData,children:\"download\"})]})});};","map":{"version":3,"names":["React","useEffect","useState","getFileBolb","FileListViewer","fileName","toknUri","permission","FilePreview","file","split","imgStock","width","auxStock","downloadFileData","then","response","url","window","URL","createObjectURL","a","document","createElement","href","download","click","alert"],"sources":["/home/giparang/threadweb/fortune/client/src/components/detailPages/fileListViewer.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { getFileBolb } from \"../../api\";\n\nexport const FileListViewer = ({fileName, toknUri, permission}) => {\n  \n  const FilePreview = () => {\n    const file = fileName.split('.');\n    if(file[1] === 'png' ||\n      file[1] === 'jpg' ||\n      file[1] === 'jpeg' ||\n      file[1] === 'JPG' || \n      file[1] === 'JPEG' || \n      file[1] === 'bmp'){\n      const imgStock = `https://mintservice.asuscomm.com:8139/getimagestock/${toknUri}/${fileName}`;\n      return(<>\n        <img style={{width: '700px'}} src={imgStock}/>\n      </>)\n    }\n    else if(file[1] === 'flac' || \n      file[1] === 'wav' ||\n      file[1] === 'mp3' || \n      file[1] === 'MP3'){\n      const auxStock = `https://mintservice.asuscomm.com:8139/getaudiostock/${toknUri}/${fileName}`;\n      return(<>\n        <audio controls src={auxStock} />\n      </>)\n    }\n  }\n    const downloadFileData = () => {\n      if(permission){\n        getFileBolb(toknUri, fileName).then(response => {\n          let url = window.URL.createObjectURL(response);\n          let a = document.createElement('a');\n          a.href = url;\n          a.download = fileName;\n          a.click();\n        })\n      }\n      else{\n        alert('Attempt to download without permission');\n      }\n    }\n    return(\n    <>\n      <h5>{fileName}<br/>\n        <FilePreview />\n        <button onClick={downloadFileData}>download</button>\n      </h5>\n    </>\n    )\n}"],"mappings":"AAAA,MAAOA,MAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,KAAQ,WAAW,CAAC,6IAExC,MAAO,IAAMC,eAAc,CAAG,QAAjBA,eAAc,MAAwC,IAAnCC,SAAQ,MAARA,QAAQ,CAAEC,OAAO,MAAPA,OAAO,CAAEC,UAAU,MAAVA,UAAU,CAE3D,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB,GAAMC,KAAI,CAAGJ,QAAQ,CAACK,KAAK,CAAC,GAAG,CAAC,CAChC,GAAGD,IAAI,CAAC,CAAC,CAAC,GAAK,KAAK,EAClBA,IAAI,CAAC,CAAC,CAAC,GAAK,KAAK,EACjBA,IAAI,CAAC,CAAC,CAAC,GAAK,MAAM,EAClBA,IAAI,CAAC,CAAC,CAAC,GAAK,KAAK,EACjBA,IAAI,CAAC,CAAC,CAAC,GAAK,MAAM,EAClBA,IAAI,CAAC,CAAC,CAAC,GAAK,KAAK,CAAC,CAClB,GAAME,SAAQ,+DAA0DL,OAAO,aAAID,QAAQ,CAAE,CAC7F,mBAAO,sCACL,YAAK,KAAK,CAAE,CAACO,KAAK,CAAE,OAAO,CAAE,CAAC,GAAG,CAAED,QAAS,EAAE,EAC7C,CACL,CAAC,IACI,IAAGF,IAAI,CAAC,CAAC,CAAC,GAAK,MAAM,EACxBA,IAAI,CAAC,CAAC,CAAC,GAAK,KAAK,EACjBA,IAAI,CAAC,CAAC,CAAC,GAAK,KAAK,EACjBA,IAAI,CAAC,CAAC,CAAC,GAAK,KAAK,CAAC,CAClB,GAAMI,SAAQ,+DAA0DP,OAAO,aAAID,QAAQ,CAAE,CAC7F,mBAAO,sCACL,cAAO,QAAQ,MAAC,GAAG,CAAEQ,QAAS,EAAG,EAChC,CACL,CACF,CAAC,CACC,GAAMC,iBAAgB,CAAG,QAAnBA,iBAAgB,EAAS,CAC7B,GAAGP,UAAU,CAAC,CACZJ,WAAW,CAACG,OAAO,CAAED,QAAQ,CAAC,CAACU,IAAI,CAAC,SAAAC,QAAQ,CAAI,CAC9C,GAAIC,IAAG,CAAGC,MAAM,CAACC,GAAG,CAACC,eAAe,CAACJ,QAAQ,CAAC,CAC9C,GAAIK,EAAC,CAAGC,QAAQ,CAACC,aAAa,CAAC,GAAG,CAAC,CACnCF,CAAC,CAACG,IAAI,CAAGP,GAAG,CACZI,CAAC,CAACI,QAAQ,CAAGpB,QAAQ,CACrBgB,CAAC,CAACK,KAAK,EAAE,CACX,CAAC,CAAC,CACJ,CAAC,IACG,CACFC,KAAK,CAAC,wCAAwC,CAAC,CACjD,CACF,CAAC,CACD,mBACA,sCACE,sBAAKtB,QAAQ,cAAC,aAAK,cACjB,KAAC,WAAW,IAAG,cACf,eAAQ,OAAO,CAAES,gBAAiB,sBAAkB,GACjD,EACJ,CAEP,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}