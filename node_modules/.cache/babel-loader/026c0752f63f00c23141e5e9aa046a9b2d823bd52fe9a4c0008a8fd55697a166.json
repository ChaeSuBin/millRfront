{"ast":null,"code":"import _regeneratorRuntime from\"/home/giparang/threadweb/fortune/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/giparang/threadweb/fortune/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{getItemStatus,getTokenUri,getToknStatus,hexToUTF8}from\"../../utilityUnits/connMintService\";export var getBlockInfo=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_itemId){var count,toknStatus,toknURI,useRange;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:count=0;_context.next=3;return getItemStatus(_itemId);case 3:toknStatus=_context.sent;toknURI=toknStatus.fileHash;useRange=setPermissionUse(toknURI.split('/'));do{toknStatus.royalty/=1000000;toknStatus.price/=1000000;}while(++count<3);return _context.abrupt(\"return\",new Promise(function(resolve){hexToUTF8(toknStatus.status).then(function(result){resolve({price:toknStatus.price,royalty:toknStatus.royalty,useRange:useRange,remain:toknStatus.limit,door:result});});}));case 8:case\"end\":return _context.stop();}}},_callee);}));return function getBlockInfo(_x){return _ref.apply(this,arguments);};}();export var getNftInfo=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(_toknId){var count,toknStatus,toknURI,fileHash,useRange;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:count=0;_context2.next=3;return getToknStatus(_toknId);case 3:toknStatus=_context2.sent;_context2.next=6;return getTokenUri(_toknId);case 6:toknURI=_context2.sent;fileHash=toknURI.split('/')[4];useRange=setPermissionUse(toknURI.split('/'));do{toknStatus.royalty/=1000000;toknStatus.price/=1000000;}while(++count<3);return _context2.abrupt(\"return\",new Promise(function(resolve){hexToUTF8(toknStatus.status).then(function(result){resolve({price:toknStatus.price,royalty:toknStatus.royalty,useRange:useRange,fileHash:fileHash,door:result});});}));case 11:case\"end\":return _context2.stop();}}},_callee2);}));return function getNftInfo(_x2){return _ref2.apply(this,arguments);};}();var setPermissionUse=function setPermissionUse(splitedUri){if(splitedUri[3]===''){return'Only for personal use';}else{if(splitedUri[2]!=='CO')return splitedUri[3]+' (No commercially use)';else return splitedUri[3]+' (Commercially Avaliable)';}};","map":{"version":3,"names":["getItemStatus","getTokenUri","getToknStatus","hexToUTF8","getBlockInfo","_itemId","count","toknStatus","toknURI","fileHash","useRange","setPermissionUse","split","royalty","price","Promise","resolve","status","then","result","remain","limit","door","getNftInfo","_toknId","splitedUri"],"sources":["/home/giparang/threadweb/fortune/client/src/components/detailPages/setBlockIDX.js"],"sourcesContent":["import { getItemStatus, getTokenUri, getToknStatus, hexToUTF8 } from \"../../utilityUnits/connMintService\";\n\nexport const getBlockInfo = async(_itemId) => {\n    let count = 0;\n    const toknStatus = await getItemStatus(_itemId);\n    const toknURI = toknStatus.fileHash;\n    const useRange = setPermissionUse(toknURI.split('/'));\n    do{\n        toknStatus.royalty /= 1000000;\n        toknStatus.price /= 1000000;\n    }while(++count < 3)\n    \n    return new Promise(resolve => {\n        hexToUTF8(toknStatus.status).then(result => {\n            resolve({\n                price: toknStatus.price,\n                royalty: toknStatus.royalty,\n                useRange: useRange,\n                remain: toknStatus.limit,\n                door: result\n            })\n        })\n    })\n}\nexport const getNftInfo = async(_toknId) => {\n    let count = 0;\n    const toknStatus = await getToknStatus(_toknId);\n    const toknURI = await getTokenUri(_toknId);\n    const fileHash = toknURI.split('/')[4];\n    const useRange = setPermissionUse(toknURI.split('/'));\n    do{\n        toknStatus.royalty /= 1000000;\n        toknStatus.price /= 1000000;\n    }while(++count < 3)\n    return new Promise(resolve => {\n        hexToUTF8(toknStatus.status).then(result => {\n            resolve({\n                price: toknStatus.price,\n                royalty: toknStatus.royalty,\n                useRange: useRange,\n                fileHash: fileHash,\n                door: result\n            })\n        })\n    })\n}\nconst setPermissionUse = (splitedUri) => {\n    if(splitedUri[3] === ''){\n        return('Only for personal use');\n      }\n      else{\n        if(splitedUri[2] !== 'CO')\n          return(splitedUri[3] + ' (No commercially use)');\n        else\n          return(splitedUri[3] + ' (Commercially Avaliable)');\n    }\n}"],"mappings":"0QAAA,OAASA,aAAa,CAAEC,WAAW,CAAEC,aAAa,CAAEC,SAAS,KAAQ,oCAAoC,CAEzG,MAAO,IAAMC,aAAY,4FAAG,iBAAMC,OAAO,0JACjCC,KAAK,CAAG,CAAC,uBACYN,cAAa,CAACK,OAAO,CAAC,QAAzCE,UAAU,eACVC,OAAO,CAAGD,UAAU,CAACE,QAAQ,CAC7BC,QAAQ,CAAGC,gBAAgB,CAACH,OAAO,CAACI,KAAK,CAAC,GAAG,CAAC,CAAC,CACrD,EAAE,CACEL,UAAU,CAACM,OAAO,EAAI,OAAO,CAC7BN,UAAU,CAACO,KAAK,EAAI,OAAO,CAC/B,CAAC,MAAM,EAAER,KAAK,CAAG,CAAC,EAAC,gCAEZ,GAAIS,QAAO,CAAC,SAAAC,OAAO,CAAI,CAC1Bb,SAAS,CAACI,UAAU,CAACU,MAAM,CAAC,CAACC,IAAI,CAAC,SAAAC,MAAM,CAAI,CACxCH,OAAO,CAAC,CACJF,KAAK,CAAEP,UAAU,CAACO,KAAK,CACvBD,OAAO,CAAEN,UAAU,CAACM,OAAO,CAC3BH,QAAQ,CAAEA,QAAQ,CAClBU,MAAM,CAAEb,UAAU,CAACc,KAAK,CACxBC,IAAI,CAAEH,MACV,CAAC,CAAC,CACN,CAAC,CAAC,CACN,CAAC,CAAC,wDACL,kBArBYf,aAAY,4CAqBxB,CACD,MAAO,IAAMmB,WAAU,6FAAG,kBAAMC,OAAO,uKAC/BlB,KAAK,CAAG,CAAC,wBACYJ,cAAa,CAACsB,OAAO,CAAC,QAAzCjB,UAAU,uCACMN,YAAW,CAACuB,OAAO,CAAC,QAApChB,OAAO,gBACPC,QAAQ,CAAGD,OAAO,CAACI,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAChCF,QAAQ,CAAGC,gBAAgB,CAACH,OAAO,CAACI,KAAK,CAAC,GAAG,CAAC,CAAC,CACrD,EAAE,CACEL,UAAU,CAACM,OAAO,EAAI,OAAO,CAC7BN,UAAU,CAACO,KAAK,EAAI,OAAO,CAC/B,CAAC,MAAM,EAAER,KAAK,CAAG,CAAC,EAAC,iCACZ,GAAIS,QAAO,CAAC,SAAAC,OAAO,CAAI,CAC1Bb,SAAS,CAACI,UAAU,CAACU,MAAM,CAAC,CAACC,IAAI,CAAC,SAAAC,MAAM,CAAI,CACxCH,OAAO,CAAC,CACJF,KAAK,CAAEP,UAAU,CAACO,KAAK,CACvBD,OAAO,CAAEN,UAAU,CAACM,OAAO,CAC3BH,QAAQ,CAAEA,QAAQ,CAClBD,QAAQ,CAAEA,QAAQ,CAClBa,IAAI,CAAEH,MACV,CAAC,CAAC,CACN,CAAC,CAAC,CACN,CAAC,CAAC,2DACL,kBArBYI,WAAU,8CAqBtB,CACD,GAAMZ,iBAAgB,CAAG,QAAnBA,iBAAgB,CAAIc,UAAU,CAAK,CACrC,GAAGA,UAAU,CAAC,CAAC,CAAC,GAAK,EAAE,CAAC,CACpB,MAAO,uBAAuB,CAChC,CAAC,IACG,CACF,GAAGA,UAAU,CAAC,CAAC,CAAC,GAAK,IAAI,CACvB,MAAOA,WAAU,CAAC,CAAC,CAAC,CAAG,wBAAwB,CAAE,IAEjD,OAAOA,WAAU,CAAC,CAAC,CAAC,CAAG,2BAA2B,CACxD,CACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}