{"ast":null,"code":"import _regeneratorRuntime from\"/home/giparang/threadweb/fortune/client/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/giparang/threadweb/fortune/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/giparang/threadweb/fortune/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import'./modal.css';import{useState}from'react';import{useNavigate}from'react-router-dom';import{postRegiPlayer}from'../api';import{SHA256}from'../utilityUnits/SHA256';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var CreateChainId=function CreateChainId(_ref){var uid=_ref.uid,web3=_ref.web3;var navigate=useNavigate();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),showFlag=_useState2[0],setFlag=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),chainAccount=_useState4[0],setAccount=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),priv=_useState6[0],setPriv=_useState6[1];var createAccount=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var accountKey,account;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:accountKey=[];account=web3.eth.accounts.create();accountKey.push(account.address);accountKey.push(account.privateKey);setAccount(accountKey);setFlag(true);case 6:case\"end\":return _context.stop();}}},_callee);}));return function createAccount(){return _ref2.apply(this,arguments);};}();var doneBtn=function doneBtn(){if(chainAccount[1]===priv){var hPass=SHA256(chainAccount[1]);var record={userId:uid,pass:hPass,addr:chainAccount[0]};postRegiPlayer(record).then(function(result){if(result===true){alert('복사한 비밀키는 잊어버리지 않도록 다른곳에 반드시 저장하십시오');sessionStorage.clear();navigate('/signinpage');}});}else alert('PRIVATE KEY 를 정확히 입력하여 주십시오');};return/*#__PURE__*/_jsx(_Fragment,{children:showFlag?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\uD83C\\uDF89Successfuly Created\",/*#__PURE__*/_jsx(\"br\",{}),\"CHAIN ID: \",chainAccount[0],/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"PRIVATE KEY: \",chainAccount[1],/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"\\uBE44\\uBC00\\uD0A4\\uB294 \\uBD84\\uC2E4 \\uC2DC \\uB418\\uCC3E\\uC744 \\uC218 \\uC5C6\\uC2B5\\uB2C8\\uB2E4.\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uBC18\\uB4DC\\uC2DC \\uBA54\\uBAA8\\uC7A5 \\uB4F1 \\uC790\\uC2E0\\uB9CC\\uC774 \\uC54C \\uC218 \\uC788\\uB294 \\uACF3\\uC5D0 \\uC62E\\uACA8 \\uC800\\uC7A5\\uD558\\uC2ED\\uC2DC\\uC624.\",/*#__PURE__*/_jsx(\"br\",{}),\"\\uBE44\\uBC00\\uD0A4\\uB294 \\uC808\\uB300\\uB85C \\uD0C0\\uC778\\uC5D0\\uAC8C \\uC54C\\uB824\\uC8FC\\uC9C0 \\uB9C8\\uC2ED\\uC2DC\\uC624.\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"\\uC704\\uC758 \\uBE44\\uBC00\\uD0A4\\uB97C \\uC544\\uB798\\uC758 \\uC785\\uB825\\uCC3D\\uC5D0 \\uBD99\\uC5EC\\uB123\\uC5B4 \\uACC4\\uC815\\uC0DD\\uC131\\uC744 \\uC644\\uB8CC\\uD558\\uC138\\uC694\"]}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"PRIVATE_KET\",onChange:function onChange(evt){return setPriv(evt.target.value);}}),/*#__PURE__*/_jsx(\"button\",{onClick:doneBtn,children:\"\\uC644\\uB8CC\\uD558\\uAE30\"})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"button\",{onClick:createAccount,children:\"\\uACC4\\uC815 \\uB9CC\\uB4E4\\uAE30\"})})});};","map":{"version":3,"names":["React","useState","useNavigate","postRegiPlayer","SHA256","CreateChainId","uid","web3","navigate","showFlag","setFlag","chainAccount","setAccount","priv","setPriv","createAccount","accountKey","account","eth","accounts","create","push","address","privateKey","doneBtn","hPass","record","userId","pass","addr","then","result","alert","sessionStorage","clear","evt","target","value"],"sources":["/home/giparang/threadweb/fortune/client/src/components/createChainId.js"],"sourcesContent":["import React from 'react';\nimport './modal.css';\nimport { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { postRegiPlayer } from '../api';\nimport { SHA256 } from '../utilityUnits/SHA256';\n\nexport const CreateChainId = ({uid, web3}) => {\n  const navigate = useNavigate();\n  const [showFlag, setFlag] = useState(false);\n  const [chainAccount, setAccount] = useState([]);\n  const [priv, setPriv] = useState();\n\n  const createAccount = async() => {\n    let accountKey = [];\n    const account = web3.eth.accounts.create();\n    \n    accountKey.push(account.address);\n    accountKey.push(account.privateKey);\n    setAccount(accountKey);\n    \n    setFlag(true);\n  }\n  const doneBtn = () => {\n    if(chainAccount[1] === priv){\n      const hPass = SHA256(chainAccount[1]);\n      const record = {\n        userId: uid,\n        pass: hPass,\n        addr: chainAccount[0]\n      }\n      postRegiPlayer(record).then(result => {\n        if(result === true){\n          alert('복사한 비밀키는 잊어버리지 않도록 다른곳에 반드시 저장하십시오');\n          sessionStorage.clear();\n          navigate('/signinpage');\n        }\n      })\n    }\n    else\n      alert('PRIVATE KEY 를 정확히 입력하여 주십시오');\n  }\n  return(\n    <>\n      {showFlag ? <>\n        <p>\n          🎉Successfuly Created<br/>\n          CHAIN ID: {chainAccount[0]}<br/><br/>\n          PRIVATE KEY: {chainAccount[1]}<br/><br/>\n          비밀키는 분실 시 되찾을 수 없습니다.<br/>\n          반드시 메모장 등 자신만이 알 수 있는 곳에 옮겨 저장하십시오.<br/>\n          비밀키는 절대로 타인에게 알려주지 마십시오.<br/><br/>\n          위의 비밀키를 아래의 입력창에 붙여넣어 계정생성을 완료하세요\n        </p>\n        <input placeholder='PRIVATE_KET' onChange={(evt)=>setPriv(evt.target.value)}/>\n        <button onClick={doneBtn}>완료하기</button>\n      </>:<>\n        <button onClick={createAccount}>계정 만들기</button>\n      </>}\n    </>\n  )\n}"],"mappings":"uYAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAO,aAAa,CACpB,OAASC,QAAQ,KAAQ,OAAO,CAChC,OAASC,WAAW,KAAQ,kBAAkB,CAC9C,OAASC,cAAc,KAAQ,QAAQ,CACvC,OAASC,MAAM,KAAQ,wBAAwB,CAAC,6IAEhD,MAAO,IAAMC,cAAa,CAAG,QAAhBA,cAAa,MAAoB,IAAfC,IAAG,MAAHA,GAAG,CAAEC,IAAI,MAAJA,IAAI,CACtC,GAAMC,SAAQ,CAAGN,WAAW,EAAE,CAC9B,cAA4BD,QAAQ,CAAC,KAAK,CAAC,wCAApCQ,QAAQ,eAAEC,OAAO,eACxB,eAAmCT,QAAQ,CAAC,EAAE,CAAC,yCAAxCU,YAAY,eAAEC,UAAU,eAC/B,eAAwBX,QAAQ,EAAE,yCAA3BY,IAAI,eAAEC,OAAO,eAEpB,GAAMC,cAAa,6FAAG,4JAChBC,UAAU,CAAG,EAAE,CACbC,OAAO,CAAGV,IAAI,CAACW,GAAG,CAACC,QAAQ,CAACC,MAAM,EAAE,CAE1CJ,UAAU,CAACK,IAAI,CAACJ,OAAO,CAACK,OAAO,CAAC,CAChCN,UAAU,CAACK,IAAI,CAACJ,OAAO,CAACM,UAAU,CAAC,CACnCX,UAAU,CAACI,UAAU,CAAC,CAEtBN,OAAO,CAAC,IAAI,CAAC,CAAC,sDACf,kBATKK,cAAa,2CASlB,CACD,GAAMS,QAAO,CAAG,QAAVA,QAAO,EAAS,CACpB,GAAGb,YAAY,CAAC,CAAC,CAAC,GAAKE,IAAI,CAAC,CAC1B,GAAMY,MAAK,CAAGrB,MAAM,CAACO,YAAY,CAAC,CAAC,CAAC,CAAC,CACrC,GAAMe,OAAM,CAAG,CACbC,MAAM,CAAErB,GAAG,CACXsB,IAAI,CAAEH,KAAK,CACXI,IAAI,CAAElB,YAAY,CAAC,CAAC,CACtB,CAAC,CACDR,cAAc,CAACuB,MAAM,CAAC,CAACI,IAAI,CAAC,SAAAC,MAAM,CAAI,CACpC,GAAGA,MAAM,GAAK,IAAI,CAAC,CACjBC,KAAK,CAAC,oCAAoC,CAAC,CAC3CC,cAAc,CAACC,KAAK,EAAE,CACtB1B,QAAQ,CAAC,aAAa,CAAC,CACzB,CACF,CAAC,CAAC,CACJ,CAAC,IAECwB,MAAK,CAAC,6BAA6B,CAAC,CACxC,CAAC,CACD,mBACE,yBACGvB,QAAQ,cAAG,wCACV,oEACuB,aAAK,cACfE,YAAY,CAAC,CAAC,CAAC,cAAC,aAAK,2BAAK,iBACvBA,YAAY,CAAC,CAAC,CAAC,cAAC,aAAK,2BAAK,iHACnB,aAAK,iLACS,aAAK,wIAChB,aAAK,2BAAK,8KAEhC,cACJ,cAAO,WAAW,CAAC,aAAa,CAAC,QAAQ,CAAE,kBAACwB,GAAG,QAAGrB,QAAO,CAACqB,GAAG,CAACC,MAAM,CAACC,KAAK,CAAC,EAAC,EAAE,cAC9E,eAAQ,OAAO,CAAEb,OAAQ,sCAAc,GACtC,cAAC,sCACF,eAAQ,OAAO,CAAET,aAAc,6CAAgB,EAC9C,EACF,CAEP,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}