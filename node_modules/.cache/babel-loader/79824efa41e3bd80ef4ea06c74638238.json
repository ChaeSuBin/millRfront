{"ast":null,"code":"export const onFileInputChange = async (e, _setBuffer, _setFileInfo, setCheckA) => {\n  const temp = await convertFile(e);\n  console.log(temp[0].length); // if(e.target.files.length === fileByteArray.length){\n  //   setCheckA(true);\n  //   _setBuffer(fileByteArray);\n  //   _setFileInfo(fileInfo);\n  // }\n};\n\nconst convertFile = async e => {\n  const fileByteArray = [];\n  const fileInfo = [];\n  let fileNum = 0;\n  return new Promise(resolve => {\n    while (e.target.files.length > fileNum) {\n      const reader = new FileReader();\n      const fileBufferArray = [];\n      fileInfo.push({\n        name: e.target.files[fileNum].name,\n        type: e.target.files[fileNum].type,\n        size: e.target.files[fileNum].size\n      }); //console.log(e.target.files[fileNum]);\n\n      reader.readAsArrayBuffer(e.target.files[fileNum]);\n\n      reader.onloadend = _evt => {\n        if (_evt.target.readyState === FileReader.DONE) {\n          const arrayBuffer = _evt.target.result,\n                array = new Uint8Array(arrayBuffer);\n\n          for (const a of array) {\n            fileBufferArray.push(a);\n          }\n\n          fileByteArray.push(fileBufferArray);\n          console.log(fileByteArray.length);\n        }\n      };\n\n      ++fileNum;\n    }\n\n    resolve([fileByteArray, fileInfo]);\n  });\n};","map":{"version":3,"names":["onFileInputChange","e","_setBuffer","_setFileInfo","setCheckA","temp","convertFile","console","log","length","fileByteArray","fileInfo","fileNum","Promise","resolve","target","files","reader","FileReader","fileBufferArray","push","name","type","size","readAsArrayBuffer","onloadend","_evt","readyState","DONE","arrayBuffer","result","array","Uint8Array","a"],"sources":["/home/giparang/threadweb/fortune/client/src/utilityUnits/fileToBuffer.js"],"sourcesContent":["\nexport const onFileInputChange = async(e, _setBuffer, _setFileInfo, setCheckA) => {\n  \n  \n  const temp = await convertFile(e);\n  console.log(temp[0].length)\n  // if(e.target.files.length === fileByteArray.length){\n    \n  //   setCheckA(true);\n  //   _setBuffer(fileByteArray);\n  //   _setFileInfo(fileInfo);\n  // }\n  \n}\nconst convertFile = async(e) => {\n  const fileByteArray = [];\n  const fileInfo = [];\n  let fileNum = 0;\n  return new Promise(resolve => {\n    while(e.target.files.length > fileNum){\n      const reader = new FileReader();\n      const fileBufferArray = [];\n          \n      fileInfo.push({\n        name: e.target.files[fileNum].name,\n        type: e.target.files[fileNum].type,\n        size: e.target.files[fileNum].size\n      })\n      //console.log(e.target.files[fileNum]);\n      reader.readAsArrayBuffer(e.target.files[fileNum]);\n      reader.onloadend = (_evt) => {\n        if (_evt.target.readyState === FileReader.DONE) {\n          const arrayBuffer = _evt.target.result,\n          array = new Uint8Array(arrayBuffer);\n          for (const a of array) {\n            fileBufferArray.push(a);\n          }\n          fileByteArray.push(fileBufferArray);\n          console.log(fileByteArray.length);\n        }\n      }\n      ++fileNum;\n    }\n    resolve([fileByteArray, fileInfo]);\n  })\n  \n}"],"mappings":"AACA,OAAO,MAAMA,iBAAiB,GAAG,OAAMC,CAAN,EAASC,UAAT,EAAqBC,YAArB,EAAmCC,SAAnC,KAAiD;EAGhF,MAAMC,IAAI,GAAG,MAAMC,WAAW,CAACL,CAAD,CAA9B;EACAM,OAAO,CAACC,GAAR,CAAYH,IAAI,CAAC,CAAD,CAAJ,CAAQI,MAApB,EAJgF,CAKhF;EAEA;EACA;EACA;EACA;AAED,CAZM;;AAaP,MAAMH,WAAW,GAAG,MAAML,CAAN,IAAY;EAC9B,MAAMS,aAAa,GAAG,EAAtB;EACA,MAAMC,QAAQ,GAAG,EAAjB;EACA,IAAIC,OAAO,GAAG,CAAd;EACA,OAAO,IAAIC,OAAJ,CAAYC,OAAO,IAAI;IAC5B,OAAMb,CAAC,CAACc,MAAF,CAASC,KAAT,CAAeP,MAAf,GAAwBG,OAA9B,EAAsC;MACpC,MAAMK,MAAM,GAAG,IAAIC,UAAJ,EAAf;MACA,MAAMC,eAAe,GAAG,EAAxB;MAEAR,QAAQ,CAACS,IAAT,CAAc;QACZC,IAAI,EAAEpB,CAAC,CAACc,MAAF,CAASC,KAAT,CAAeJ,OAAf,EAAwBS,IADlB;QAEZC,IAAI,EAAErB,CAAC,CAACc,MAAF,CAASC,KAAT,CAAeJ,OAAf,EAAwBU,IAFlB;QAGZC,IAAI,EAAEtB,CAAC,CAACc,MAAF,CAASC,KAAT,CAAeJ,OAAf,EAAwBW;MAHlB,CAAd,EAJoC,CASpC;;MACAN,MAAM,CAACO,iBAAP,CAAyBvB,CAAC,CAACc,MAAF,CAASC,KAAT,CAAeJ,OAAf,CAAzB;;MACAK,MAAM,CAACQ,SAAP,GAAoBC,IAAD,IAAU;QAC3B,IAAIA,IAAI,CAACX,MAAL,CAAYY,UAAZ,KAA2BT,UAAU,CAACU,IAA1C,EAAgD;UAC9C,MAAMC,WAAW,GAAGH,IAAI,CAACX,MAAL,CAAYe,MAAhC;UAAA,MACAC,KAAK,GAAG,IAAIC,UAAJ,CAAeH,WAAf,CADR;;UAEA,KAAK,MAAMI,CAAX,IAAgBF,KAAhB,EAAuB;YACrBZ,eAAe,CAACC,IAAhB,CAAqBa,CAArB;UACD;;UACDvB,aAAa,CAACU,IAAd,CAAmBD,eAAnB;UACAZ,OAAO,CAACC,GAAR,CAAYE,aAAa,CAACD,MAA1B;QACD;MACF,CAVD;;MAWA,EAAEG,OAAF;IACD;;IACDE,OAAO,CAAC,CAACJ,aAAD,EAAgBC,QAAhB,CAAD,CAAP;EACD,CA1BM,CAAP;AA4BD,CAhCD"},"metadata":{},"sourceType":"module"}